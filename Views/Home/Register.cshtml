@{
    //ViewBag.Title = "Login";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@model Application.Models.User
<script src="@Url.Content("~/Scripts/jquery.validate.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.js")" type="text/javascript"></script>




<script type="text/javascript">
    $(".form_datetime").datetimepicker({ format: 'yyyy-mm-dd hh:ii' });
</script>                          


<div>
    @using(Html.BeginForm("AddUser","User",FormMethod.Post, new {style="width:50%; margin-right: auto; margin-left: auto; border: 1px"}))
    {
        @Html.AntiForgeryToken()
    @Html.ValidationSummary(true)
    <h2 class="text-center">Registration</h2><br>
    <div class="form-group">
        <div class="row">
            <div class="col-md-2 text-right">
                @Html.LabelFor( m=> m.Name)
                </div>
            <div class="col-lg-4">
               @Html.TextBoxFor(model => model.Name, new {@class = "form-control"})
                @Html.ValidationMessageFor(model => model.Name)
                </div>
         </div>
        <br />
        <div class="row">
            <div class="col-md-2 text-right">
                @Html.LabelFor( m=> m.Email)
            </div>
            <div class="col-lg-4">
                @Html.TextBoxFor(m => m.Email, new { @class = "form-control", type = "email",id="UserName" })
                <input class="col-md-offset-8" type="button" value="Check" id="btn"/>
                @Html.ValidationMessageFor(model => model.Email)
            </div>
        </div>
        <br />
        <div class="row">
            <div class="col-md-2 text-right">
                @Html.LabelFor( m=> m.Password)
            </div>
            <div class="col-lg-4">
                @Html.TextBoxFor(m => m.Password, new { @class = "form-control", type = "password" })
                @Html.ValidationMessageFor(model => model.Password)
            </div>
        </div>
        <br />
      @*Plugin*@
        <div class="form-group">
            <label>Date of Birth</label>
            <input size="16" type="text" value="2012-06-15 14:45" readonly class="form_datetime col-md-offset-1 form-control">
        </div>


        <br>
        <div class="row">
            <div class="col-md-2 text-right">
                @Html.LabelFor( m=> m.Address)
            </div>
            <div class="col-lg-4">
                @Html.TextBoxFor(m=>m.Address, new {@class="form-control"})
                @Html.ValidationMessageFor(model => model.Address)
            </div>
        </div>
        <br />
        <div class="row">
            <div class="col-md-2 text-right">
                @Html.LabelFor( m=> m.Number)
            </div>
            <div class="col-lg-4">
                @Html.TextBoxFor(m=>m.Number, new {@class="form-control"})
                @Html.ValidationMessageFor(model => model.Number)
            </div>
        </div>
        <br />
        <div class="row">
            <div style="margin-left:15%" class="col-md-3">
                <input id="registerSubmit" type="submit" title="Register" class="btn btn-primary btn-lg" value="Register">
            </div>
        </div>
    </div>
    }
</div>
<script>

    $(document).ready(function () {
        $('#btn').click(function () {

            var userName = $('#UserName').val();

            //alert('User Name ='+ userName);
            $.getJSON("CheckUser?UserName=" + userName, function (data) {
                
                if (data) {
                    alert(""+data);

                }
                else {
                    alert("" + data);
                }
            });

        });

    });
</script>